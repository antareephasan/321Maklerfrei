{"version":3,"sources":["assets/img/logo.svg","assets/img/forgot-password-office.jpeg","assets/img/forgot-password-office-dark.jpeg","pages/EmailVerification.js"],"names":["EmailVerificationForm","query","URLSearchParams","useLocation","search","verifyEmail","useContext","AuthContext","useState","isLoading","setLoading","isEmailVerified","setEmailVerified","error","setError","useEffect","token","get","then","response","data","catch","message","className","EmailVerification","to","src","logo","alt","ImageLight","ImageDark"],"mappings":"mGAAe,QAA0B,gC,mCCA1B,QAA0B,mD,mCCA1B,QAA0B,wD,qHCWzC,SAASA,IACP,IAAMC,EAJC,IAAIC,gBAAgBC,cAAcC,QAKjCC,EAAgBC,qBAAWC,KAA3BF,YACR,EAAgCG,oBAAS,GAAK,mBAAvCC,EAAS,KAAEC,EAAU,KAC5B,EAA4CF,oBAAS,GAAM,mBAApDG,EAAe,KAAEC,EAAgB,KACxC,EAA0BJ,mBAAS,MAAK,mBAAjCK,EAAK,KAAEC,EAAQ,KAoBtB,OAlBAC,qBAAU,WACR,IAAMC,EAAQf,EAAMgB,IAAI,SAAWhB,EAAMgB,IAAI,SAAW,GACxDZ,EAAYW,GACXE,MAAK,SAAAC,GACJP,EAAiBO,EAASC,KAAKT,iBAC/BD,GAAW,EACb,IACCW,OAAM,SAAAR,GACFA,EAAMM,SACPL,EAASD,EAAMM,SAASC,KAAKE,SAE7BR,EAAS,yCAEXJ,GAAW,EACb,GAEF,GAAG,IAEAD,EAEC,mBAAGc,UAAU,oCAAmC,sCAMjDV,EAEC,mBAAGU,UAAU,mCAAkC,SAC5CV,IAKHF,EASF,mBAAGY,UAAU,oCAAmC,2FAP9C,mBAAGA,UAAU,mCAAkC,yCAWrD,CAuDeC,UArDf,WACE,OACE,sBAAKD,UAAU,yDAAwD,UACrE,cAAC,IAAI,CAACE,GAAG,IAAIF,UAAU,+DAA8D,SACrF,qBAAKG,IAAKC,IAAMJ,UAAU,OAAOK,IAAI,cAErC,qBAAKL,UAAU,mDAAkD,SAC/D,qBAAKA,UAAU,uEAAsE,SACnF,qBAAKA,UAAU,iDAAgD,SAC7D,sBAAKA,UAAU,4CAA2C,UACxD,sBAAKA,UAAU,0BAAyB,UACtC,qBACE,cAAY,OACZA,UAAU,yCACVG,IAAKG,IACLD,IAAI,WAEN,qBACE,cAAY,OACZL,UAAU,+CACVG,IAAKI,IACLF,IAAI,cAGR,sBAAML,UAAU,wDAAuD,SACrE,sBAAKA,UAAU,SAAQ,UACrB,oBAAIA,UAAU,8DAA6D,+BAI3E,cAACvB,EAAqB,IAEtB,oBAAIuB,UAAU,SAEd,mBAAGA,UAAU,OAAM,SACjB,cAAC,IAAI,CACHA,UAAU,wEACVE,GAAG,cAAa,oEActC,C","file":"static/js/36.6adb3723.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.5e945e43.svg\";","export default __webpack_public_path__ + \"static/media/forgot-password-office.6075fc44.jpeg\";","export default __webpack_public_path__ + \"static/media/forgot-password-office-dark.2ca0fb3e.jpeg\";","import React, { useState, useEffect, useContext } from 'react'\r\nimport { Link, useLocation } from 'react-router-dom'\r\nimport logo from '../assets/img/logo.svg'\r\nimport ImageLight from '../assets/img/forgot-password-office.jpeg'\r\nimport ImageDark from '../assets/img/forgot-password-office-dark.jpeg'\r\nimport { AuthContext } from '../context/AuthContext'\r\n\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search)\r\n}\r\n\r\nfunction EmailVerificationForm() {\r\n  const query = useQuery()\r\n  const { verifyEmail } = useContext(AuthContext)\r\n  const [isLoading, setLoading] = useState(true)\r\n  const [isEmailVerified, setEmailVerified] = useState(false)\r\n  const [error, setError] = useState(null)\r\n\r\n  useEffect(() => {\r\n    const token = query.get(\"token\") ? query.get(\"token\") : \"\"\r\n    verifyEmail(token)\r\n    .then(response => {\r\n      setEmailVerified(response.data.isEmailVerified)\r\n      setLoading(false)\r\n    })\r\n    .catch(error => {\r\n      if(error.response) {\r\n        setError(error.response.data.message)\r\n      } else {\r\n        setError('Some error occured. Please try again.')\r\n      }\r\n      setLoading(false)\r\n    })\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  if(isLoading) {\r\n    return (\r\n      <p className=\"text-sm font-medium text-gray-600\">\r\n        E-Mail wird verfiziert..\r\n      </p>\r\n    )\r\n  }\r\n\r\n  if(error) {\r\n    return (\r\n      <p className=\"text-sm font-medium text-red-600\">\r\n        {error}\r\n      </p>\r\n    )\r\n  }\r\n\r\n  if(!isEmailVerified) {\r\n    return (\r\n      <p className=\"text-sm font-medium text-red-600\">\r\n        Fehler bei der Verfizierung.\r\n      </p>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <p className=\"text-sm font-medium text-gray-600\">\r\n      Deine E-Mail wurde erfolgreich best√§tigt. Logge dich ein, um fortzufahren.\r\n    </p>\r\n  )\r\n}\r\n\r\nfunction EmailVerification() {\r\n  return (\r\n    <div className=\"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900\">\r\n      <Link to=\"/\" className=\"px-8 pt-4 text-xl font-bold text-gray-800 dark:text-gray-200\">\r\n      <img src={logo} className=\"w-40\" alt=\"My logo\" />\r\n      </Link>\r\n      <div className=\"flex flex-1 h-full items-center mt-4 lg:mt-0 p-6\">\r\n        <div className=\"flex-1 h-full max-w-4xl mx-auto overflow-hidden rounded-lg shadow-xl\">\r\n          <div className=\"bg-white rounded-lg shadow-xl dark:bg-gray-800\">\r\n            <div className=\"flex flex-col overflow-y-auto md:flex-row\">\r\n              <div className=\"h-32 md:h-auto md:w-1/2\">\r\n                <img\r\n                  aria-hidden=\"true\"\r\n                  className=\"object-cover w-full h-full dark:hidden\"\r\n                  src={ImageLight}\r\n                  alt=\"Office\"\r\n                />\r\n                <img\r\n                  aria-hidden=\"true\"\r\n                  className=\"hidden object-cover w-full h-full dark:block\"\r\n                  src={ImageDark}\r\n                  alt=\"Office\"\r\n                />\r\n              </div>\r\n              <main className=\"flex items-center justify-center p-6 sm:p-12 md:w-1/2\">\r\n                <div className=\"w-full\">\r\n                  <h1 className=\"mb-4 text-xl font-semibold text-gray-700 dark:text-gray-200\">\r\n                    E-Mail verfiziert\r\n                  </h1>\r\n                  \r\n                  <EmailVerificationForm />\r\n\r\n                  <hr className=\"my-8\" />\r\n\r\n                  <p className=\"mt-4\">\r\n                    <Link\r\n                      className=\"text-sm font-medium text-green-700 dark:text-gray-100 hover:underline\"\r\n                      to=\"/auth/login\"\r\n                    >\r\n                      Du hast bereits einen Account? Login\r\n                    </Link>\r\n                  </p>\r\n\r\n                </div>\r\n              </main>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default EmailVerification\r\n"],"sourceRoot":""}