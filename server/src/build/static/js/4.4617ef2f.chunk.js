(this.webpackJsonprocket=this.webpackJsonprocket||[]).push([[4],{135:function(e,t,a){"use strict";a.d(t,"d",(function(){return s})),a.d(t,"b",(function(){return i.a})),a.d(t,"c",(function(){return f})),a.d(t,"a",(function(){return h.a}));var n=a(5),c=a.n(n),r=a(17),o=r.a.api.url,s={getUsers:function(e){return c.a.get("".concat(o,"/v1/users?limit=").concat(r.a.users.resultsPerPage,"&page=").concat(e),{}).then((function(e){return e.data}))},createUser:function(e,t,a,n){return c.a.post("".concat(o,"/v1/users"),{name:e,email:t,password:a,role:n})},updateUserPassword:function(e,t){return c.a.patch("".concat(o,"/v1/users/").concat(e),{password:t})},updateUserDetails:function(e,t,a,n){return c.a.patch("".concat(o,"/v1/users/").concat(e),{name:t,email:a,lastname:n})},deleteUser:function(e){return c.a.delete("".concat(o,"/v1/users/").concat(e),{})},deleteUserList:function(e){return c.a.delete("".concat(o,"/v1/userList/deleteList/").concat(e),{})}},i=a(150),u=a(131),l=a(132),p=r.a.api.url;function d(e,t,a){if(!t||"object"!==typeof t||t instanceof Date||t instanceof File){var n=null==t?"":t;e.append(a,n)}else Object.keys(t).forEach((function(n){d(e,t[n],a?"".concat(a,"[").concat(n,"]"):n)}))}var m=function(){var e=Object(l.a)(Object(u.a)().mark((function e(t,a){var n;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new FormData,e.next=3,d(n,a);case 3:return e.abrupt("return",c.a.patch("".concat(p,"/v1/userList/update/").concat(t),n));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),f={updateUserListDetails:m,deleteUserList:function(e){return c.a.delete("".concat(p,"/v1/userList/deleteList/").concat(e),{})}},h=a(142)},137:function(e,t,a){"use strict";a(0);var n=a(1);t.a=function(e){var t=e.children;return Object(n.jsx)("h1",{className:"my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200",children:t})}},142:function(e,t,a){"use strict";a.d(t,"a",(function(){return T}));var n=a(141),c=a(4),r=a(155),o=a(131),s=a(132),i=a(5),u=a.n(i),l=(a(204),a(205),a(17)),p=a(171),d=(a(34),l.a.api.url),m=function(){var e=Object(s.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get("".concat(d,"/v1/userList/t-d-t"));case 3:return t=e.sent,e.abrupt("return",t.data.cognitoToken);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(404,e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();var f=function(){var e=Object(s.a)(Object(o.a)().mark((function e(t,a,n,c,r,s,i){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.put("https://api.production.cloudios.flowfact-prod.cloud/multimedia-service/assigned/schemas/".concat(n,"/entities/").concat(a,"/items"),{albumName:c,multimediaItemIds:i,categories:r},{headers:{cognitoToken:t,"Content-Type":"application/json"}});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),new Error(404,e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a,n,c,r,o,s){return e.apply(this,arguments)}}(),h=function(e,t){var a={parking:{values:[e.typeOfParkingSpace]},rooms:{values:[e.numberOfRooms]},addresses:{values:[{city:e.city,state:null,street:e.address,country:null,zipcode:e.zip,district:null}]},textEnvironment:{values:[e.features]},numberbathrooms:{values:[e.numberOfBathrooms]},no_of_floors:{values:[e.numberOfFloors]},contact:{values:[t]},numberbedrooms:{values:[e.numberOfBedrooms]},identifier:{values:[e.uniqId]},textEstate:{values:[e.description]},textFree:{values:[e.additionalDescription]},carportnum:{values:[e.numberOfParkingSpaces]},priority:{values:[0]},estatetype:{values:["Land"===e.buildingType?"03":e.specificBuildingType]},numgarages:{values:[e.numberOfGarages]},development:{values:[e.stateOfDevelopment]},status:{values:["active"]},usablearea:{values:[e.usableArea]},textLocation:{values:[e.location]},oldnewbuilding:{values:["".concat(e.newBuilding?"1":"")]},department:{values:["0"]},headline:{values:[e.listingTitle]},livingarea:{values:[e.livingArea]},monument:{values:[e.monumentProtection?"true":""]},purchaseprice:{values:[String(e.listingPrice).replaceAll(".","")]},rent:{values:[String(e.rentPrice).replaceAll(".","")]},buildingphase:{values:[e.buildingphase]},plotarea:{values:[e.plotArea]},typeofheating:{values:[e.typeOfHeating]},heatingcosts:{values:[e.heatingCostinDetails]},yearofconstruction:{values:[e.yearOfBuilding]},service_charge:{values:[e.monthlyHousepayment]},carportpurchaseprice:{values:[e.parkingSpacePrice]},additionalexpenses:{values:[e.additionalCost]},securitydeposit:{values:[e.secuirityCost]},heating_costs_in_ac:{values:[!1]}};return e.commission&&Object.assign(a,{commissionProspect:{values:[e.commission]}}),"Investment"===e.buildingType&&Object.assign(a,{leasablearea:{values:[e.leasablearea]},estatetype:{values:[e.estatetype]}}),"Commercial"===e.buildingType&&Object.assign(a,{estatetype:{values:[e.estatetype]},totalarea:{values:[e.totalarea]}}),e.energy?Object.assign(a,{energy_certificate_availability:{values:["A"]},pass_valid_till:{values:[e.energyPassCreationDate.split(".").map((function(e){return String(e).length>3?+e+10:e})).join(".")]},energyefficienceclass:{values:[e.energyEfficiencyClass]},energyidentificationtype:{values:[e.typeOfEnergyPass]},energyusagevalue:{values:[""===e.energyPass?"":+String(e.energyPass).replaceAll(",",".")]},fuelenergy_type:{values:[e.energySource]}}):Object.assign(a,{energy_certificate_availability:{values:["E"]},textFree:{values:["".concat(e.additionalDescription," Energieausweis liegt zur Besichtigung vor.")]}}),JSON.stringify(a)},g=function(){var e=Object(s.a)(Object(o.a)().mark((function e(t,a,s,i,l,d,g,y,b){var v,T,x,_,k,w,I,O,j,F,S,C,D,E,P,L,H,M,N,A,U,V,B,G,q,R,J,K,W,Y,z,Q;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("data",t),e.next=4,m();case 4:return v=e.sent,e.next=7,u.a.get("https://api.production.cloudios.flowfact-prod.cloud/contact-service/contact?email=".concat(t.formEmail),{headers:{cognitoToken:v}});case 7:if(T=e.sent,x=["05A","05E1","05","05E2","05K","05L","05E","05LV","05F"],_=["08B","08C","08D","08F","08GAHS","08GAE","08HOT","08PENS","08REST"],k=["07H","07LK\xdc","07L","07LH","07HI","07W"],w=["06A","06BUGE","06BE","06B","06","06G","06P","06WOGE"],""!==T.data){e.next=64;break}return I={firstName:t.nameHide?"Privater":t.contactName,lastName:t.nameHide?"Anbieter":t.lastName,emails:[t.formEmail],company:"123provisionsfrei",homepage:["https://123provisionsfrei.de"]},(null===(O=t.phoneNumber||t.phone)||void 0===O?void 0:O.length)>5?Object.assign(I,{phones:[{type:"office",number:Object(p.b)(O)}]}):Object.assign(I,{phones:null}),j=JSON.stringify(I),e.next=19,u.a.post("https://api.production.cloudios.flowfact-prod.cloud/contact-service/contact",j,{headers:{"Content-Type":"application/json",Accept:"application/json",cognitoToken:v}});case 19:if(F=(F=e.sent).data,S=h(t,F),"For Rent"===t.listingType&&("Flat"===t.buildingType&&(C="flat_rent"),"House"===t.buildingType&&(C="house_rent"),"Investment"===t.buildingType&&(C="investment"),"Land"===t.buildingType&&(C="land_lease"),"Commercial"===t.buildingType&&(x.includes(t.estatetype)?C="shops_commerce_rent":_.includes(t.estatetype)?C="catering_accommodation_rent":k.includes(t.estatetype)?C="production_halls_rent":w.includes(t.estatetype)&&(C="office_surgery_rent"))),"For Sale"===t.listingType&&("Flat"===t.buildingType&&(C="flat_purchase"),"House"===t.buildingType&&(C="house_purchase"),"Investment"===t.buildingType&&(C="investment"),"Land"===t.buildingType&&(C="land_purchase"),"Commercial"===t.buildingType&&(x.includes(t.estatetype)?C="shops_commerce_purchase":_.includes(t.estatetype)?C="catering_accommodation_purchase":k.includes(t.estatetype)?C="production_halls_purchase":w.includes(t.estatetype)&&(C="office_surgery_purchase"))),D=window.localStorage.getItem("entityId")){e.next=31;break}return e.next=28,u.a.post("https://api.production.cloudios.flowfact-prod.cloud/entity-service/latest/schemas/".concat(C),S,{headers:{"Content-Type":"application/json",cognitoToken:v}});case 28:E=e.sent,D=E.data,window.localStorage.setItem("entityId",D);case 31:P=Object(r.a)(a.selectedType.entries()),e.prev=32,H=Object(o.a)().mark((function e(){var t,r,s,i,l,p,d,m;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(c.a)(L.value,2),r=t[0],s=t[1],b(0),console.log("i",r),y("imgMultiStepForm"),g(r),i=a.formValuesType[r].imgDetails,l=new FormData,p=void 0;try{p=s}catch(o){p=s}if(l.append("file",p),d=void 0,e.prev=11,a.showTypeId[r]){e.next=21;break}return e.next=15,u.a.post("https://api.production.cloudios.flowfact-prod.cloud/multimedia-service/items/schemas/".concat(C,"/entities/").concat(D,"?title=").concat(i),l,{headers:{cognitoToken:v,"Content-Type":"multipart/form-data"},onUploadProgress:function(e){var t=e.loaded,a=e.total,n=Math.floor(100*t/a);console.log("".concat(t,"kb of ").concat(a,"kb | ").concat(n,"%")),b(n)}});case 15:m=e.sent,a.showType[r]=m.data.multimediaItem.fileReference,d=m.data.multimediaItem.id,a.setShowTypeId((function(e){return[].concat(Object(n.a)(e),[d])})),e.next=22;break;case 21:d=a.showTypeId[r];case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(11),b(100),d=a.showTypeId[r];case 28:if(0!==r){e.next=35;break}return e.next=31,f(v,D,C,"homepage",["main_image"],r,[d]);case 31:return e.next=33,f(v,D,C,"portal",["main_image"],r,[d]);case 33:e.next=39;break;case 35:return e.next=37,f(v,D,C,"homepage",["pictures"],r,[d]);case 37:return e.next=39,f(v,D,C,"portal",["pictures"],r,[d]);case 39:case"end":return e.stop()}}),e,null,[[11,24]])})),P.s();case 35:if((L=P.n()).done){e.next=39;break}return e.delegateYield(H(),"t0",37);case 37:e.next=35;break;case 39:e.next=44;break;case 41:e.prev=41,e.t1=e.catch(32),P.e(e.t1);case 44:return e.prev=44,P.f(),e.finish(44);case 47:M=Object(r.a)(s.selectedType.entries()),e.prev=48,A=Object(o.a)().mark((function e(){var t,r,i,l,p,d,m,h;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(c.a)(N.value,2),r=t[0],i=t[1],b(0),y("planMultiStepForm"),g(r),l=s.formValuesType[r].imgDetails,p=new FormData,d=void 0;try{d=i}catch(o){d=i}if(p.append("file",d),m=void 0,e.prev=10,s.showTypeId[r]){e.next=20;break}return e.next=14,u.a.post("https://api.production.cloudios.flowfact-prod.cloud/multimedia-service/items/schemas/".concat(C,"/entities/").concat(D,"?title=").concat(l),p,{headers:{cognitoToken:v,"Content-Type":"multipart/form-data"},onUploadProgress:function(e){var t=e.loaded,a=e.total,n=Math.floor(100*t/a);console.log("".concat(t,"kb of ").concat(a,"kb | ").concat(n,"%")),b(n)}});case 14:h=e.sent,s.showType[r]=h.data.multimediaItem.fileReference,m=h.data.multimediaItem.id,s.setShowTypeId((function(e){return[].concat(Object(n.a)(e),[m])})),e.next=21;break;case 20:m=a.showTypeId[r];case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(10),m=s.showTypeId[r],b(100);case 27:return e.next=29,f(v,D,C,"homepage",["floorplans"],r,[m]);case 29:return e.next=31,f(v,D,C,"portal",["floorplans"],r,[m]);case 31:case"end":return e.stop()}}),e,null,[[10,23]])})),M.s();case 51:if((N=M.n()).done){e.next=55;break}return e.delegateYield(A(),"t2",53);case 53:e.next=51;break;case 55:e.next=60;break;case 57:e.prev=57,e.t3=e.catch(48),M.e(e.t3);case 60:return e.prev=60,M.f(),e.finish(60);case 63:return e.abrupt("return",{entityId:D,schema_name:C,contactId:F});case 64:if(U=T.data,V=U.entries[0].id,"For Rent"===t.listingType&&("Flat"===t.buildingType&&(B="flat_rent"),"House"===t.buildingType&&(B="houses_rent"),"Investment"===t.buildingType&&(B="investment"),"Land"===t.buildingType&&(B="land_lease"),"Commercial"===t.buildingType&&(x.includes(t.estatetype)?B="shops_commerce_rent":_.includes(t.estatetype)?B="catering_accommodation_rent":k.includes(t.estatetype)?B="production_halls_rent":w.includes(t.estatetype)&&(B="office_surgery_rent"))),"For Sale"===t.listingType&&("Flat"===t.buildingType&&(B="flat_purchase"),"House"===t.buildingType&&(B="house_purchase"),"Investment"===t.buildingType&&(B="investment"),"Land"===t.buildingType&&(B="land_purchase"),"Commercial"===t.buildingType&&(x.includes(t.estatetype)?B="shops_commerce_purchase":_.includes(t.estatetype)?B="catering_accommodation_purchase":k.includes(t.estatetype)?B="production_halls_purchase":w.includes(t.estatetype)&&(B="office_surgery_purchase"))),G=h(t,V),q=window.localStorage.getItem("entityId")){e.next=76;break}return e.next=73,u.a.post("https://api.production.cloudios.flowfact-prod.cloud/entity-service/latest/schemas/".concat(B),G,{headers:{"Content-Type":"application/json",cognitoToken:v}});case 73:R=e.sent,q=R.data,window.localStorage.setItem("entityId",q);case 76:J=Object(r.a)(a.selectedType.entries()),e.prev=77,W=Object(o.a)().mark((function e(){var t,r,s,i,l,p,d,m;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(c.a)(K.value,2),r=t[0],s=t[1],b(0),y("imgMultiStepForm"),g(r),i=a.formValuesType[r].imgDetails,l=new FormData,p=void 0;try{p=s}catch(o){p=s}if(l.append("file",p),d=void 0,e.prev=10,a.showTypeId[r]){e.next=20;break}return e.next=14,u.a.post("https://api.production.cloudios.flowfact-prod.cloud/multimedia-service/items/schemas/".concat(B,"/entities/").concat(q,"?title=").concat(i),l,{headers:{cognitoToken:v,"Content-Type":"multipart/form-data"},onUploadProgress:function(e){var t=e.loaded,a=e.total,n=Math.floor(100*t/a);console.log("".concat(t,"kb of ").concat(a,"kb | ").concat(n,"%")),b(n)}});case 14:m=e.sent,a.showType[r]=m.data.multimediaItem.fileReference,d=m.data.multimediaItem.id,a.setShowTypeId((function(e){return[].concat(Object(n.a)(e),[d])})),e.next=21;break;case 20:d=a.showTypeId[r];case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(10),b(100),d=a.showTypeId[r];case 27:if(0!==r){e.next=34;break}return e.next=30,f(v,q,B,"homepage",["main_image"],r,[d]);case 30:return e.next=32,f(v,q,B,"portal",["main_image"],r,[d]);case 32:e.next=38;break;case 34:return e.next=36,f(v,q,B,"homepage",["pictures"],r,[d]);case 36:return e.next=38,f(v,q,B,"portal",["pictures"],r,[d]);case 38:a.formValuesType[r].flowFactId=d;case 39:case"end":return e.stop()}}),e,null,[[10,23]])})),J.s();case 80:if((K=J.n()).done){e.next=84;break}return e.delegateYield(W(),"t4",82);case 82:e.next=80;break;case 84:e.next=89;break;case 86:e.prev=86,e.t5=e.catch(77),J.e(e.t5);case 89:return e.prev=89,J.f(),e.finish(89);case 92:Y=Object(r.a)(s.selectedType.entries()),e.prev=93,Q=Object(o.a)().mark((function e(){var t,r,i,l,p,d,m,h;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(c.a)(z.value,2),r=t[0],i=t[1],b(0),y("planMultiStepForm"),g(r),l=s.formValuesType[r].imgDetails,p=new FormData,d=void 0;try{d=i}catch(o){d=i}if(p.append("file",d),m=void 0,e.prev=10,a.showTypeId[r]){e.next=20;break}return e.next=14,u.a.post("https://api.production.cloudios.flowfact-prod.cloud/multimedia-service/items/schemas/".concat(B,"/entities/").concat(q,"?title=").concat(l),p,{headers:{cognitoToken:v,"Content-Type":"multipart/form-data"},onUploadProgress:function(e){var t=e.loaded,a=e.total,n=Math.floor(100*t/a);console.log("".concat(t,"kb of ").concat(a,"kb | ").concat(n,"%")),b(n)}});case 14:h=e.sent,s.showType[r]=h.data.multimediaItem.fileReference,m=h.data.multimediaItem.id,s.setShowTypeId((function(e){return[].concat(Object(n.a)(e),[m])})),e.next=21;break;case 20:m=a.showTypeId[r];case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(10),m=a.showTypeId[r],b(100);case 27:return e.next=29,f(v,q,B,"homepage",["floorplans"],r,[m]);case 29:return e.next=31,f(v,q,B,"portal",["floorplans"],r,[m]);case 31:s.formValuesType[r].flowFactId=m;case 32:case"end":return e.stop()}}),e,null,[[10,23]])})),Y.s();case 96:if((z=Y.n()).done){e.next=100;break}return e.delegateYield(Q(),"t6",98);case 98:e.next=96;break;case 100:e.next=105;break;case 102:e.prev=102,e.t7=e.catch(93),Y.e(e.t7);case 105:return e.prev=105,Y.f(),e.finish(105);case 108:return e.abrupt("return",{entityId:q,schema_name:B,contactId:V,imgMultiStepForm:a,planMultiStepForm:s});case 111:e.prev=111,e.t8=e.catch(0),console.log(e.t8);case 114:case"end":return e.stop()}}),e,null,[[0,111],[32,41,44,47],[48,57,60,63],[77,86,89,92],[93,102,105,108]])})));return function(t,a,n,c,r,o,s,i,u){return e.apply(this,arguments)}}(),y=function(){var e=Object(s.a)(Object(o.a)().mark((function e(t,a,n,s,i,l,d,g,y){var b,v,T,x,_,k,w,I,O,j,F,S,C,D,E,P,L,H,M,N,A,U,V,B,G,q,R,J,K,W,Y,z,Q,X,Z,$,ee,te,ae,ne,ce,re,oe,se,ie,ue,le,pe,de,me,fe,he,ge,ye,be,ve,Te,xe,_e,ke;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("data",t),e.next=4,m();case 4:return b=e.sent,e.next=7,u.a.get("https://api.production.cloudios.flowfact-prod.cloud/contact-service/contact?email=".concat(t.formEmail),{headers:{cognitoToken:b}});case 7:if(v=e.sent,T=["05A","05E1","05","05E2","05K","05L","05E","05LV","05F"],x=["08B","08C","08D","08F","08GAHS","08GAE","08HOT","08PENS","08REST"],_=["07H","07LK\xdc","07L","07LH","07HI","07W"],k=["06A","06BUGE","06BE","06B","06","06G","06P","06WOGE"],""!==v.data){e.next=104;break}return w={firstName:t.nameHide?"Privater":t.contactName,lastName:t.nameHide?"Anbieter":t.lastName,emails:[t.formEmail],company:"123provisionsfrei",homepage:["https://123provisionsfrei.de"]},(null===(I=t.phoneNumber||t.phone)||void 0===I?void 0:I.length)>5?Object.assign(w,{phones:[{type:"office",number:Object(p.b)(I)}]}):Object.assign(w,{phones:null}),O=JSON.stringify(w),e.next=19,u.a.post("https://api.production.cloudios.flowfact-prod.cloud/contact-service/contact",O,{headers:{"Content-Type":"application/json",Accept:"application/json",cognitoToken:b}});case 19:if(j=(j=e.sent).data,F=h(t,j),"For Rent"===t.listingType&&("Flat"===t.buildingType&&(S="flat_rent"),"House"===t.buildingType&&(S="house_rent"),"Investment"===t.buildingType&&(S="investment"),"Land"===t.buildingType&&(S="land_lease"),"Commercial"===t.buildingType&&(T.includes(t.estatetype)?S="shops_commerce_rent":x.includes(t.estatetype)?S="catering_accommodation_rent":_.includes(t.estatetype)?S="production_halls_rent":k.includes(t.estatetype)&&(S="office_surgery_rent"))),"For Sale"===t.listingType&&("Flat"===t.buildingType&&(S="flat_purchase"),"House"===t.buildingType&&(S="house_purchase"),"Investment"===t.buildingType&&(S="investment"),"Land"===t.buildingType&&(S="land_purchase"),"Commercial"===t.buildingType&&(T.includes(t.estatetype)?S="shops_commerce_purchase":x.includes(t.estatetype)?S="catering_accommodation_purchase":_.includes(t.estatetype)?S="production_halls_purchase":k.includes(t.estatetype)&&(S="office_surgery_purchase"))),C=window.localStorage.getItem("entityId")){e.next=31;break}return e.next=28,u.a.post("https://api.production.cloudios.flowfact-prod.cloud/entity-service/latest/schemas/".concat(S),F,{headers:{"Content-Type":"application/json",cognitoToken:b}});case 28:D=e.sent,C=D.data,window.localStorage.setItem("entityId",C);case 31:E=Object(r.a)(a.selectedType.entries()),e.prev=32,E.s();case 34:if((P=E.n()).done){e.next=63;break}L=Object(c.a)(P.value,2),H=L[0],M=L[1],y(0),console.log("i",H),g("imgMultiStepForm"),d(H),s("Bild ".concat(H+1," von ").concat(a.selectedType.length," hochgeladen"),"success"),N=a.formValuesType[H].imgDetails,A=new FormData,U=void 0;try{U=M}catch(o){U=M}return A.append("file",U),e.next=48,u.a.post("https://api.production.cloudios.flowfact-prod.cloud/multimedia-service/items/schemas/".concat(S,"/entities/").concat(C,"?title=").concat(N),A,{headers:{cognitoToken:b,"Content-Type":"multipart/form-data"},onUploadProgress:function(e){var t=e.loaded,a=e.total,n=Math.floor(100*t/a);console.log("".concat(t,"kb of ").concat(a,"kb | ").concat(n,"%")),y(n)}});case 48:if(V=e.sent,B=V.data.multimediaItem.id,0!==H){e.next=57;break}return e.next=53,f(b,C,S,"homepage",["main_image"],H,[B]);case 53:return e.next=55,f(b,C,S,"portal",["main_image"],H,[B]);case 55:e.next=61;break;case 57:return e.next=59,f(b,C,S,"homepage",["pictures"],H,[B]);case 59:return e.next=61,f(b,C,S,"portal",["pictures"],H,[B]);case 61:e.next=34;break;case 63:e.next=68;break;case 65:e.prev=65,e.t0=e.catch(32),E.e(e.t0);case 68:return e.prev=68,E.f(),e.finish(68);case 71:G=Object(r.a)(n.selectedType.entries()),e.prev=72,G.s();case 74:if((q=G.n()).done){e.next=95;break}R=Object(c.a)(q.value,2),J=R[0],K=R[1],y(0),g("planMultiStepForm"),d(J),s("Grundriss ".concat(J+1," von ").concat(n.selectedType.length," hochgeladen"),"success"),W=n.formValuesType[J].imgDetails,Y=new FormData,z=void 0;try{z=K}catch(o){z=K}return Y.append("file",z),e.next=87,u.a.post("https://api.production.cloudios.flowfact-prod.cloud/multimedia-service/items/schemas/".concat(S,"/entities/").concat(C,"?title=").concat(W),Y,{headers:{cognitoToken:b,"Content-Type":"multipart/form-data"},onUploadProgress:function(e){var t=e.loaded,a=e.total,n=Math.floor(100*t/a);console.log("".concat(t,"kb of ").concat(a,"kb | ").concat(n,"%")),y(n)}});case 87:return Q=e.sent,X=Q.data.multimediaItem.id,e.next=91,f(b,C,S,"homepage",["floorplans"],J,[X]);case 91:return e.next=93,f(b,C,S,"portal",["floorplans"],J,[X]);case 93:e.next=74;break;case 95:e.next=100;break;case 97:e.prev=97,e.t1=e.catch(72),G.e(e.t1);case 100:return e.prev=100,G.f(),e.finish(100);case 103:return e.abrupt("return",{entityId:C,schema_name:S,contactId:j});case 104:if(Z=v.data,$=Z.entries[0].id,"For Rent"===t.listingType&&("Flat"===t.buildingType&&(ee="flat_rent"),"House"===t.buildingType&&(ee="houses_rent"),"Investment"===t.buildingType&&(ee="investment"),"Land"===t.buildingType&&(ee="land_lease"),"Commercial"===t.buildingType&&(T.includes(t.estatetype)?ee="shops_commerce_rent":x.includes(t.estatetype)?ee="catering_accommodation_rent":_.includes(t.estatetype)?ee="production_halls_rent":k.includes(t.estatetype)&&(ee="office_surgery_rent"))),"For Sale"===t.listingType&&("Flat"===t.buildingType&&(ee="flat_purchase"),"House"===t.buildingType&&(ee="house_purchase"),"Investment"===t.buildingType&&(ee="investment"),"Land"===t.buildingType&&(ee="land_purchase"),"Commercial"===t.buildingType&&(T.includes(t.estatetype)?ee="shops_commerce_purchase":x.includes(t.estatetype)?ee="catering_accommodation_purchase":_.includes(t.estatetype)?ee="production_halls_purchase":k.includes(t.estatetype)&&(ee="office_surgery_purchase"))),te=h(t,$),ae=window.localStorage.getItem("entityId")){e.next=116;break}return e.next=113,u.a.post("https://api.production.cloudios.flowfact-prod.cloud/entity-service/latest/schemas/".concat(ee),te,{headers:{"Content-Type":"application/json",cognitoToken:b}});case 113:ne=e.sent,ae=ne.data,window.localStorage.setItem("entityId",ae);case 116:ce=Object(r.a)(a.selectedType.entries()),e.prev=117,ce.s();case 119:if((re=ce.n()).done){e.next=148;break}oe=Object(c.a)(re.value,2),se=oe[0],ie=oe[1],y(0),g("imgMultiStepForm"),d(se),s("Bild ".concat(se+1," von ").concat(a.selectedType.length," hochgeladen"),"success"),ue=a.formValuesType[se].imgDetails,le=new FormData,pe=void 0;try{pe=ie}catch(o){pe=ie}return le.append("file",pe),e.next=132,u.a.post("https://api.production.cloudios.flowfact-prod.cloud/multimedia-service/items/schemas/".concat(ee,"/entities/").concat(ae,"?title=").concat(ue),le,{headers:{cognitoToken:b,"Content-Type":"multipart/form-data"},onUploadProgress:function(e){var t=e.loaded,a=e.total,n=Math.floor(100*t/a);console.log("".concat(t,"kb of ").concat(a,"kb | ").concat(n,"%")),y(n)}});case 132:if(de=e.sent,me=de.data.multimediaItem.id,0!==se){e.next=141;break}return e.next=137,f(b,ae,ee,"homepage",["main_image"],se,[me]);case 137:return e.next=139,f(b,ae,ee,"portal",["main_image"],se,[me]);case 139:e.next=145;break;case 141:return e.next=143,f(b,ae,ee,"homepage",["pictures"],se,[me]);case 143:return e.next=145,f(b,ae,ee,"portal",["pictures"],se,[me]);case 145:a.formValuesType[se].flowFactId=me;case 146:e.next=119;break;case 148:e.next=153;break;case 150:e.prev=150,e.t2=e.catch(117),ce.e(e.t2);case 153:return e.prev=153,ce.f(),e.finish(153);case 156:fe=Object(r.a)(n.selectedType.entries()),e.prev=157,fe.s();case 159:if((he=fe.n()).done){e.next=181;break}ge=Object(c.a)(he.value,2),ye=ge[0],be=ge[1],y(0),g("planMultiStepForm"),d(ye),s("Grundriss ".concat(ye+1," von ").concat(n.selectedType.length," hochgeladen"),"success"),ve=n.formValuesType[ye].imgDetails,Te=new FormData,xe=void 0;try{xe=be}catch(o){xe=be}return Te.append("file",xe),e.next=172,u.a.post("https://api.production.cloudios.flowfact-prod.cloud/multimedia-service/items/schemas/".concat(ee,"/entities/").concat(ae,"?title=").concat(ve),Te,{headers:{cognitoToken:b,"Content-Type":"multipart/form-data"},onUploadProgress:function(e){var t=e.loaded,a=e.total,n=Math.floor(100*t/a);console.log("".concat(t,"kb of ").concat(a,"kb | ").concat(n,"%")),y(n)}});case 172:return _e=e.sent,ke=_e.data.multimediaItem.id,e.next=176,f(b,ae,ee,"homepage",["floorplans"],ye,[ke]);case 176:return e.next=178,f(b,ae,ee,"portal",["floorplans"],ye,[ke]);case 178:n.formValuesType[ye].flowFactId=ke;case 179:e.next=159;break;case 181:e.next=186;break;case 183:e.prev=183,e.t3=e.catch(157),fe.e(e.t3);case 186:return e.prev=186,fe.f(),e.finish(186);case 189:return e.abrupt("return",{entityId:ae,schema_name:ee,contactId:$,imgMultiStepForm:a,planMultiStepForm:n});case 192:e.prev=192,e.t4=e.catch(0),console.log(e.t4);case 195:case"end":return e.stop()}}),e,null,[[0,192],[32,65,68,71],[72,97,100,103],[117,150,153,156],[157,183,186,189]])})));return function(t,a,n,c,r,o,s,i,u){return e.apply(this,arguments)}}(),b=function(){var e=Object(s.a)(Object(o.a)().mark((function e(t,a,n,s,i,l){var p,d,g,y,b,v,T,x,_,k,w,I,O,j,F,S,C,D,E,P,L,H,M;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m();case 3:if(p=e.sent,!s){e.next=73;break}d=Object(r.a)(a.selectedType.entries()),e.prev=6,d.s();case 8:if((g=d.n()).done){e.next=34;break}y=Object(c.a)(g.value,2),b=y[0],v=y[1],i("Bild ".concat(b+1," von ").concat(a.selectedType.length," hochgeladen"),"success"),T=a.formValuesType[b].imgDetails,x=new FormData,_=void 0;try{_=v}catch(o){_=v}return x.append("file",_),e.next=18,u.a.post("https://api.production.cloudios.flowfact-prod.cloud/multimedia-service/items/schemas/".concat(t.schema_name,"/entities/").concat(t.entityId,"?title=").concat(T),x,{headers:{cognitoToken:p,"Content-Type":"multipart/form-data"}});case 18:if(k=e.sent,w=k.data.multimediaItem.id,0!==b){e.next=27;break}return e.next=23,f(p,t.entityId,t.schema_name,"homepage",["main_image"],b,[w]);case 23:return e.next=25,f(p,t.entityId,t.schema_name,"portal",["main_image"],b,[w]);case 25:e.next=31;break;case 27:return e.next=29,f(p,t.entityId,t.schema_name,"homepage",["pictures"],b,[w]);case 29:return e.next=31,f(p,t.entityId,t.schema_name,"portal",["pictures"],b,[w]);case 31:a.formValuesType[b].flowFactId=w;case 32:e.next=8;break;case 34:e.next=39;break;case 36:e.prev=36,e.t0=e.catch(6),d.e(e.t0);case 39:return e.prev=39,d.f(),e.finish(39);case 42:I=Object(r.a)(n.selectedType.entries()),e.prev=43,I.s();case 45:if((O=I.n()).done){e.next=64;break}j=Object(c.a)(O.value,2),F=j[0],S=j[1],i("Grundriss ".concat(F+1," von ").concat(n.selectedType.length," hochgeladen"),"success"),C=n.formValuesType[F].imgDetails,D=new FormData,E=void 0;try{E=S}catch(o){E=S}return D.append("file",E),e.next=55,u.a.post("https://api.production.cloudios.flowfact-prod.cloud/multimedia-service/items/schemas/".concat(t.schema_name,"/entities/").concat(t.entityId,"?title=").concat(C),D,{headers:{cognitoToken:p,"Content-Type":"multipart/form-data"}});case 55:return P=e.sent,L=P.data.multimediaItem.id,e.next=59,f(p,t.entityId,t.schema_name,"homepage",["floorplans"],F,[L]);case 59:return e.next=61,f(p,t.entityId,t.schema_name,"portal",["floorplans"],F,[L]);case 61:n.formValuesType[F].flowFactId=L;case 62:e.next=45;break;case 64:e.next=69;break;case 66:e.prev=66,e.t1=e.catch(43),I.e(e.t1);case 69:return e.prev=69,I.f(),e.finish(69);case 72:return e.abrupt("return",{imgMultiStepForm:a,planMultiStepForm:n});case 73:return H=h(t,t.flowfactContactId),e.next=76,u.a.put("https://api.production.cloudios.flowfact-prod.cloud/entity-service/schemas/".concat(t.schema_name,"/entities/").concat(t.entityId),H,{headers:{"Content-Type":"application/json",cognitoToken:p}});case 76:return M=e.sent,e.abrupt("return",M.data);case 80:e.prev=80,e.t2=e.catch(0),console.log(e.t2);case 83:case"end":return e.stop()}}),e,null,[[0,80],[6,36,39,42],[43,66,69,72]])})));return function(t,a,n,c,r,o){return e.apply(this,arguments)}}(),v=function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){var a,n,c,r,s;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m();case 3:return n=e.sent,c={firstName:t.nameHide?"Privater":t.contactName,lastName:t.nameHide?"Anbieter":t.lastName,emails:[t.formEmail],company:"123provisionsfrei",homepage:["https://123provisionsfrei.de"]},(null===(a=t.phoneNumber)||void 0===a?void 0:a.length)>5?Object.assign(c,{phones:[{type:"office",number:Object(p.b)(t.phoneNumber)}]}):Object.assign(c,{phones:null}),r=JSON.stringify(c),e.next=9,u.a.put("https://api.production.cloudios.flowfact-prod.cloud/contact-service/contact/".concat(t.flowfactContactId),r,{headers:{"Content-Type":"application/json",Accept:"application/json",cognitoToken:n}});case 9:return s=e.sent,e.abrupt("return",s.data);case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),T={publishToFlowFact:y,generateCognitoToken:m,updateFlowFactContact:v,updateFlowFactListDetails:b,publishImagesToFlowFact:g}},150:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(131),c=a(132),r=a(5),o=a.n(r),s=a(17).a.api.url,i=function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.a.post("".concat(s,"/v1/stripe/create-payment-intent"),{id:t}).catch((function(e){console.log(e.message)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(Object(n.a)().mark((function e(t,a){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.a.post("".concat(s,"/v1/stripe/send-email-to-dom"),{uniqId:t,type:a}).catch((function(e){console.log(e.message)})));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),l={updatePaymentMethod:function(e,t,a,n){return o.a.post("".concat(s,"/v1/stripe/updatePaymentMethod"),{paymentMethodId:e,address:t,uniqId:a,sepa:n}).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},createSubscription:function(e,t,a){return o.a.post("".concat(s,"/v1/stripe/create-subscription"),{subscriptionType:e,uniqId:t,stripeId:a}).then((function(e){return e.data.subscription}))},completeSubscription:function(e,t,a){return o.a.post("".concat(s,"/v1/stripe/complete-subscription"),{subscriptionId:e,productId:t,uniqId:a}).then((function(e){return e.data.user}))},pauseSubscription:function(e){return o.a.post("".concat(s,"/v1/stripe/pause-subscription"),{uniqId:e}).then((function(e){return e.data.uniqId}))},deleteSubscription:function(e){return o.a.post("".concat(s,"/v1/stripe/delete-subscription"),{subscriptionId:e}).catch((function(e){}))},unpauseSubscription:function(e){return o.a.post("".concat(s,"/v1/stripe/unpause-subscription"),{uniqId:e}).then((function(e){return e.data.uniqId}))},createPaypalSubscription:function(e,t,a){return o.a.post("".concat(s,"/v1/stripe/create-paypal-subscription"),{subscriptionType:e,uniqId:t,subscriptionID:a}).then((function(e){return e.data.subscription}))},cancelAutoRenew:function(e){return o.a.post("".concat(s,"/v1/stripe/cancel-auto-renew"),{uniqId:e}).then((function(e){return e.data.uniqId}))},getSepaClientSecret:function(e){return o.a.post("".concat(s,"/v1/stripe/fresh-sepa-client-secret"),{email:e}).then((function(e){return e.data.freshSepaClientSecret}))},sendEmailToDom:u,createPaymentIntent:i}}}]);
//# sourceMappingURL=4.4617ef2f.chunk.js.map